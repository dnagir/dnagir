
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Simplify Iteration in MVC Views with NHAML - My Octopress Blog</title>
  <meta name="author" content="Your Name">

  
  <meta name="description" content="This post is inspired by the one from Steve Sanderson. He wants to improve the table generation on the WebForms engine in ASP.NET MVC. I definitely &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://dnagir.github.com/dnagir/blog/2009/09/01/simplify-iteration-in-mvc-views-with">
  <link href="/dnagir/favicon.png" rel="icon">
  <link href="/dnagir/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/dnagir/javascripts/modernizr-2.0.js"></script>
  <script src="/dnagir/javascripts/ender.js"></script>
  <script src="/dnagir/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="My Octopress Blog" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/dnagir/">My Octopress Blog</a></h1>
  
    <h2>A blogging framework for hackers.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:dnagir.github.com/dnagir" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/dnagir/">Home</a></li>
  <li><a href="/dnagir/about/">About</a></li>
  <li><a href="/dnagir/blog">Blog</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Simplify Iteration in MVC Views With NHAML</h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-09-01T21:04:00+10:00" pubdate data-updated="true">Sep 1<span>st</span>, 2009</time>
        
      </p>
    
  </header>


<div class="entry-content"><div class='post'>
This post is inspired by the <a href="http://blog.codeville.net/2009/08/31/simplify-iteration-in-your-mvc-views/">one</a> from Steve Sanderson. He wants to improve the table generation on the WebForms engine in ASP.NET MVC. I definitely recommend to switch to <a href="http://code.google.com/p/nhaml/">NHAML</a> instead.<br />
<br />
This is how it would look: (there is no tbody - must be Steve&#8217;s mistake, anyway I&#8217;ll leave it as is)<br />
<pre><code>

%table
  %thead
    %th Rank
    %th Name
    %th Age
  %tbody
    - var people.Model.ToList();
    - for(int index=0; index&lt;people.Count; index++) {
      - var cssClass = "myitem-" + (index % 2 == 0 ? "odd" : "even");
      - if (index == people.Count-1) cssClass += " myitem-last";
        %tr {class=cssClass}
          %td
            = index + 1
            .
          %td
            &amp;= people[index].Name
          %td
            &amp;= people[index].Age



</code></pre>
And this is much more readable for me, especially comparing to the <a href="http://blog.codeville.net/2009/08/31/simplify-iteration-in-your-mvc-views/">original</a>.<br />
Also keep in mind there are no any extension methods used, just pure C# and NHAML.<br />
Adding some extension methods I would probably make it look like this:
<br />
<pre><code>

%table
  %thead
    %th Rank
    %th Name
    %th Age
  %tbody
    - for(int index=0; index&lt;Model.People.Count; index++) {
        %tr{ class=#{Model.People.RowClassFor(index)} }
          %td
            = index + 1
            .
          %td
            &amp;= people[index].Name
          %td
            &amp;= people[index].Age

</code></pre>
<br />
<br />
And we have only simplest possible extension method: RowClassFor. It can be reused in all the tables so you don&#8217;t need to modify million of view in order to change css classes.<br />
Looks much better? Don&#8217;t you agree?</div>
<h2>Comments</h2>
<div class='comments'>
<div class='comment'>
<div class='author'>Dmytrii Nagirniak</div>
<div class='content'>
The NHAML community is not very large but it is under continuous development and improvement. There are couple nice fellas working on it. Check the SVN history and you will see.<br /><br />Additionally there are large number of tests for NHAML. So I can sleep well using it.<br /><br />Also you can easily contribute to it and are very welcome to do so. Just ask at the user groups and I believe you will get invited.</div>
</div>
<div class='comment'>
<div class='author'>Anonymous</div>
<div class='content'>
Hi - I accidentally discovered NHaml and like what I have seen so far. However, the community seems very quiet and not a lot seems to be happening. Am I missing something or is NHaml winding down. <br /><br />I would appreciate any information available.</div>
</div>
</div>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Your Name</span></span>

      








  


<time datetime="2009-09-01T21:04:00+10:00" pubdate data-updated="true">Sep 1<span>st</span>, 2009</time>
      

<span class="categories">
  
    <a class='category' href='/dnagir/blog/categories/development/'>Development</a>, <a class='category' href='/dnagir/blog/categories/asp-net-mvc/'>asp.net mvc</a>, <a class='category' href='/dnagir/blog/categories/nhaml/'>nhaml</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://dnagir.github.com/dnagir/blog/2009/09/01/simplify-iteration-in-mvc-views-with/" data-via="" data-counturl="http://dnagir.github.com/dnagir/blog/2009/09/01/simplify-iteration-in-mvc-views-with/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/dnagir/blog/2009/09/01/aspnet-mvc-empty-values-and-string/" title="Previous Post: ASP.NET MVC empty values and string binding">&laquo; ASP.NET MVC empty values and string binding</a>
      
      
        <a class="basic-alignment right" href="/dnagir/blog/2009/09/04/benefits-of-using-resharper/" title="next Post: Benefits of using ReSharper">Benefits of using ReSharper &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Dmytrii Nagirniak</h1>
  <img src="/dnagir/about/me.jpg" title="Dmytrii Nagirniak photo" >
  <ul>
    <li>
      <a href="http://twitter.com/dnagir">Twitter</a>
    </li>
    <li>
      <a href="http://github.com/dnagir">Github</a>
    </li>
    <li>
      <a href="http://au.linkedin.com/in/dmitriynagirnyak">LinkedIn</a>
    </li>
    <li>
      <a href="mailto:d@ApproachE.com?subject=Just saying hi">d@ApproachE.com</a>
    </li>
  </ul>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/dnagir/blog/2011/12/22/knockoutjs-validations-video/">KnockoutJS Validations Screencast</a>
      </li>
    
      <li class="post">
        <a href="/dnagir/blog/2011/11/29/issues-switching-to-jruby-from-mri-19/">Issues switching to JRuby from MRI 1.9</a>
      </li>
    
      <li class="post">
        <a href="/dnagir/blog/2011/11/19/rails-plugin-with-tested-assets/">Rails Plugin with Tested Assets Screencast</a>
      </li>
    
      <li class="post">
        <a href="/dnagir/blog/2011/10/04/tips-on-usingterminal-in-mac/">Use your Terminal like a Pro</a>
      </li>
    
      <li class="post">
        <a href="/dnagir/blog/2011/08/19/templating-done-easy-javascript-haml/">Templating done easy - JavaScript HAML with Rails</a>
      </li>
    
  </ul>
</section>






  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2012 - Your Name -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
