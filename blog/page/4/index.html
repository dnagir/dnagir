
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Art Of Programming</title>
  <meta name="author" content="Dmytrii Nagirniak">

  
  <meta name="description" content="Just a reminder about the agile manifesto. The purpose of this post is to read and write all that again and keep in mind both left and right parts &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://ApproachE.com/blog/page/4">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="http://feeds.feedburner.com/DmitriyNagirnyak" rel="alternate" title="Art Of Programming" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-17928352-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Art Of Programming</a></h1>
  
    <h2>musings by Dmytrii Nagirniak</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss email">
  <li><a href="http://feeds.feedburner.com/DmitriyNagirnyak" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
    <li><a href="http://feedburner.google.com/fb/a/mailverify?uri=DmitriyNagirnyak" rel="subscribe-email" title="subscribe via email">Email</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:ApproachE.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Home</a></li>
  <li><a href="/about/">About</a></li>
  <li><a href="/blog/archives/">Blog</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/agile-manifesto-reminder/">Agile Manifesto - Reminder</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-02-22T10:49:00+11:00" pubdate data-updated="true">Feb 22<span>nd</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
Just a reminder about the agile <a href="http://agilemanifesto.org/" target="_blank">manifesto</a>. The purpose of this post is to read and write all that again and keep in mind <b>both left and right</b> parts of it. Just remember to<br />
<blockquote>
value in the items on the right, … value the items on the left more</blockquote>
<ul>
<li><b>Individuals and interactions</b> over processes and tools</li>
<li><b>Working software</b> over comprehensive documentation</li>
<li><b>Customer collaboration</b> over contract negotiation</li>
<li><b>Responding to change</b> over following a plan</li>
</ul>
This all especially comes to mind after reading Ayende&#8217;s <a href="http://ayende.com/Blog/archive/2010/02/20/nice-process-but-what-about-the-engineering-bits.aspx" target="_blank">post</a> about ignoring the actual building of the software.</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/there-is-such-thing-as-too-much-testing/">There Is Such a Thing as Too Much Testing</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-02-18T09:13:00+11:00" pubdate data-updated="true">Feb 18<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
Have been watching the RubyConf 2009 <a href="http://rubyconf2009.confreaks.com/21-nov-2009-13-15-there-is-such-a-thing-as-too-much-testing-jake-scruggs.html" target="_blank">video</a>. And I liked the matrix which is based on 3 dimensions to determine level of testing. The questions you have to ask to determine how much testing you need should include:<br />
<ul>
<li>Did your tests stop/find bugs?      <br />
<br />
<ul>
<li>How often? </li>
<li>How soon? </li>
</ul>
</li>
<li>Was there good design?      <br />
<br />
<ul>
<li>Did the tests encourage good design? </li>
<li>How easy was it to write new features? </li>
</ul>
</li>
<li>What&#8217;s the level of developer buy-in for testing? </li>
<li>What&#8217;s the level of buy-in for managers? </li>
<li>What level of assurance do you need? Are you really sure? (Lose a tweet – not a big deal, lose a life – thing you&#8217;re dead too). </li>
</ul>
The lessons are:<br />
<ul>
<li>Start small (do not do Selenium at least!). </li>
<li>Do not get new resources just to run your tests. They MUST be fast enough.      <br />
<br />
<ul>
<li>Paralllelise. </li>
<li>Use fast machine or cloud. </li>
<li>Do not hit external resources (including DB if possible). </li>
<li>Profile and examine slow tests. </li>
<li>remove redundant tests. </li>
</ul>
</li>
<li>Distinguish between model and integration test clearly. You often assert in model test instead of integration ones. </li>
</ul></div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/vici-mvc-simple-net-implemetation/">Vici MVC – Simple .NET Implementation</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-11-02T15:02:00+11:00" pubdate data-updated="true">Nov 2<span>nd</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
I have found the <a href="http://viciproject.com/wiki/projects/mvc/home" target="_blank">ViciMVC</a> project and it caught my interest. What I can observe – it is really simple implementation of the MVC pattern for .NET (ASP.NET).<br />
The key points I should mention about it are:<br />
<ul>
<li>It is very lightweight.</li>
<li>It is very similar to Castle MonoRail and ASP.NET MVC.</li>
<li>It has its own, HTML based view engine which is based on their own <a href="http://viciproject.com/wiki/projects/parser/home" target="_blank">Vici parser</a>. The parser looks really great and allows to run C# code in it. Good work.</li>
<li>Unit testing is not bound to the HttpContext (as we all would expect) AND (this is huge for me) allow to render the resulting html so unit tests can just access raw output produced by the action.</li>
</ul>
The guys just did <b>what they want and how they want</b>. Great work overall.<br />
I just must mention the ViciProject. The tools are great. Simple, lightweight and looks like easy to use.</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/content-managementpublishing-system/">Content Management/Publishing System Problems</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-10-24T01:20:00+11:00" pubdate data-updated="true">Oct 24<span>th</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
Reading the <a href="http://www.codinghorror.com/blog/archives/001306.html">Treating user Myopia</a> I remembered one thing I has been thinking about lately: the problems of all Content Management Systems.<br />
Please note that I will be talking about Web Content Publishing which produces (as an end result) a web page represented with HTML.<br />
<br />
Since first CMS the bunch of issues started to arise and most of them are related to basic things:<br />
<ol>
<li>How user should edit the content?</li>
<li>How the content provided by user should be represented as HTML?</li>
</ol>
<h4>


Editing user content</h4>
<div>
The most popular options to edit the content are:</div>
<div>
<ol>
<li><b>Poor HTML</b> - user can provide HTML as it is.</li>
<li><b>Plain text</b> - the text is rendered as-as. Similar to 1, but is HTML encoded, so this is really 1-to-1 match of the text.</li>
<li><b>Plain text with formatting</b> - user edits the plain text according to specific rules, then the text is parsed and renders as HTML.</li>
<li><b>Rich Editing (WYSIWYG)</b> - is basically user friendly poor HTML. The main difference is that user should not know the HTML itself (with all its pros and cons).</li>
<li><b>Preprocessed HTML</b> - this is mix of Poor HTML/Rich Editing and Plain text with formatting. The edited content is in format of HTML but reserves special markup to be parsed dynamically. (Think of ASP.NET, JSP or any other dynamic page generated on server, but provided by user)</li>
</ol>
<div>
To give you an idea where each of them is used and its benefits or issues:</div>
<div>
<ol>
<li><b>Poor HTML</b>&nbsp;- usually used in primitive/simple management systems. But is always (&gt;99%) used as a back-door when options 4 is available. Characteristics:</li>
<br />
<ol>
<li>Very customisable (anything that can be represented with HTML can be done in this mode).</li>
<li>Requires knowledge from the users.</li>
<li>The actual output is 100% corresponds to the edited content.</li>
<li>Easily overused (users can apply fonts/colors/text size etc with no actual need).</li>
<li>Previous point leads to non-maintainable CMS itself as it is technically very hard change common layout with this approach.</li>
<li>No way to enforce web-standards.</li>
<li>No way to enforce common site layout rules.</li>
</ol>
<br />
<li><b>Plain text.</b>&nbsp;Is actually part of any system (not only CMS). We can see that everywhere where users&#8217; input is shown on a page. It anything from Contact Us and Registration form a real CMS. Its characteristics:</li>
<br />
<ol>
<li>Easy to edit.</li>
<li>No customisation points at all. The output will always be plain text.</li>
<li>The actual output will often be different (newlines and space in plain text are in most cases displayed as such, but just ignored by browsers).</li>
<li>Web-standards are automatically enforced.</li>
<li>Common site layout rules are N/A.</li>
</ol>
<br />
<li><b>Plain text with formatting.</b> Is used in most of Wiki sites. Often called Markdown. The aim is to allow user to edit content in plain text, but reformat it to rich (HTML) content according to the rules of Markdown. Characteristics:</li>
<br />
<ol>
<li>Requires users&#8217; knowledge of the markdown.</li>
<li>There are a lot differen mark-ups/downs which increases learning curve for end-users overall.</li>
<li>Really describes the content and NOT how to represent the content.</li>
<li>Has limited customisation. Only set of particular HTML tags can be rendered as a result.</li>
<li>Easy to enforce web-standards.</li>
<li>Easy to enforce common site layout rules.</li>
</ol>
<br />
<li><b>Rich Editing (WYSIWYG).</b>&nbsp;The aim is to provide users ability to edit content and see how it looks just in place. What You See Is What you get. Used in most of CMS systems, blogs, forums etc where there is a requirement to publish something better than just a plain text. Considered to be the must-have option and is a de-facto standard for content publishing these days. Characteristics (some inherited from Poor HTML):</li>
<br />
<ol>
<li>Very customisable.</li>
<li>Does not requires knowledge from the users (easy to use).</li>
<li>The actual output in most cases is &gt; 90% similar to the edited content (which is pretty good).</li>
<li>Easily overused (users can apply fonts/colors/text size etc with no actual need).</li>
<li>Previous point leads to non-maintainable CMS itself as it is technically very hard change common layout with this approach.</li>
<li>Issues with the editors.</li>
<li>No way to enforce web-standards.</li>
<li>No way to enforce common site layout rules.</li>
<li>Copy-paste from other documents is very buggy.</li>
</ol>
<br />
<li><b>Preprocessed HTML/MarkDown</b>&nbsp;- this can used in systems that dynamically build online forms or are in some way application builders. The idea is to allow user to provide a content but still make it dynamic. Usually used in pretty complex applications. Typical example I can take from top of my head is <a href="http://www.mindtouch.com/">DekiWiki</a>. Characteristics:</li>
<br />
<ol>
<li>Requires knowledge of the markup.</li>
<li>Customisation points are limited.</li>
<li>Content is always mixed with dynamic&nbsp;behavior&nbsp;which leads to painful&nbsp;maintainability.</li>
<li>The actual output is often totally different comparing to the original content.</li>
<li>No way to enforce web-standards.</li>
<li>No way to enforce common site layout rules.</li>
</ol>
</ol>
</div>
<div>
Probably, the Rich Editor is the golden middle here. But the things go wrong when people try to copy-paste content (very rich-formatted), let&#8217;s say, from MS Word. Hardly any WYSIWYG editor can handle that. And the result output will be awful. Forget about web standards&#8230;.</div>
<div>
<br /></div>
<div>
The point I want to make here is that there is no unique option for all possible solutions. If you create a system for geeks - use mardown, for normal users - use Rich Editor and be prepared to review its content.</div>
<div>
<br /></div>
<div>
But generally, I feel there is a lack of science behind this. We need to analyse this area to provide a good solution for both users and developers, so they can live happy lives and not bother writing posts like the&nbsp;<a href="http://www.codinghorror.com/blog/archives/001306.html">Treating user Myopia</a>.</div>
</div>
<br />
For any ideas on how to solve this publishing issue I promise beer.</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/testing-expected-exception-revisited/">Testing Expected Exception, Revisited</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-10-16T14:40:00+11:00" pubdate data-updated="true">Oct 16<span>th</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
I have been using NUnit for a long time and really got used to it. Nowadays it is very sweet, especially with NUnitEx.<br />
It does have a simple syntax for testing exception. Pretty much <a href="http://dnagir.blogspot.com/2008/05/unit-test-granular-expected-exception.html" target="_blank">what I did</a> long time ago.<br />
It looks like this:<br />
<pre class="csharpcode">[Test]
<span class="kwrd">public</span> <span class="kwrd">void</span> ThrowsAndGivesMessage() {
    Assert.Throws&lt;FormModelProviderException&gt;(() =&gt; <span class="kwrd">new</span> XmlFormModelProvider().CreateModel());
}</pre>
<style type="text/css">
.csharpcode, .csharpcode pre
{
 font-size: small;
 color: black;
 font-family: consolas, &#8220;Courier New&#8221;, courier, monospace;
 background-color: #ffffff;
 /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
 background-color: #f4f4f4;
 width: 100%;
 margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>BUT, it does not allow me to <i><b>verify the actual message</b></i> of the exception. I want to write the code like this to do that:<br />
<pre class="csharpcode">[Test]
<span class="kwrd">public</span> <span class="kwrd">void</span> ThrowsAndGivesMessage() {
    Action act = () =&gt; <span class="kwrd">new</span> XmlFormModelProvider().CreateModel();
    act.Throws&lt;FormModelProviderException&gt;()
        .Message
        .Should().Contain(<span class="str">"Form/Form element is not found"</span>);
}</pre>
<style type="text/css">
.csharpcode, .csharpcode pre
{
 font-size: small;
 color: black;
 font-family: consolas, &#8220;Courier New&#8221;, courier, monospace;
 background-color: #ffffff;
 /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
 background-color: #f4f4f4;
 width: 100%;
 margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<br />
The point here is that I <i><b>verify the exception type</b></i> thrown AND get the <i><b>TYPED exception as the result</b></i> of the verification so I can do whatever I want with it. One more thing I like is that we explicitly see the <b><i>acting code</i></b>.<br />
Ohh, yes. The code to support this:<br />
<pre class="csharpcode"><span class="kwrd">public</span> <span class="kwrd">static</span> TExpected Throws&lt;TExpected&gt;(<span class="kwrd">this</span> Action a) <span class="kwrd">where</span> TExpected : Exception {
    <span class="kwrd">try</span> {
        a.Invoke();
    } <span class="kwrd">catch</span> (TExpected expected) {
        <span class="kwrd">return</span> expected;     
    } <span class="kwrd">catch</span> (Exception other) {
        Assert.Fail(<span class="kwrd">string</span>.Format(<span class="str">"Expected exception of type {0} but {1} was raised."</span>, <span class="kwrd">typeof</span>(TExpected).Name, other.GetType().Name));
    }
    Assert.Fail(<span class="kwrd">string</span>.Format(<span class="str">"The expected exception {0} has not been raised"</span>, <span class="kwrd">typeof</span>(TExpected).Name));
    <span class="kwrd">return</span> <span class="kwrd">null</span>; <span class="rem">// This NULL smells - should be refactored :)</span>
}</pre>
<style type="text/css">
.csharpcode, .csharpcode pre
{
 font-size: small;
 color: black;
 font-family: consolas, &#8220;Courier New&#8221;, courier, monospace;
 background-color: #ffffff;
 /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
 background-color: #f4f4f4;
 width: 100%;
 margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<br />
Enjoy.</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/dividing-integers-in-c-are-evil/">Dividing Integers in C# Are Evil</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-10-08T10:56:00+11:00" pubdate data-updated="true">Oct 8<span>th</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
If you have ever worked with arithmetical operations in C# you probably know this. But it is the thing that can easily be slept from you and not even mentioned.<br />
What do you think the code will print? True or False?<br />
<div>
<pre style="background-color: #f4f4f4; border-style: none; color: black; font-family: consolas,'Courier New',courier,monospace; font-size: 8pt; line-height: 12pt; margin: 0em; overflow: visible; padding: 0px; width: 100%;">Console.WriteLine(5/2 &gt; 2); // <span style="color: blue;">True</span> <span style="color: blue;">or</span> <span style="color: blue;">False</span>?</pre>
</div>
The result is, of course, <b>FALSE</b>. You should never forget the TYPE. Integer 5 divided by integer 2 returns <b>INTEGER</b>. And it is truncated integer, so the value will be 2 and not 2.5.<br />
This fact that division operator returns INTEGER in my opinion is just wrong. There is no ANY guarantee at all that result will ever be integer. In other languages (including Pascal/Delphi) the division returns floating-point result. Which IS correct.<br />
So in real live: <b>INT/INT=REAL</b>, in C# <b>INT/INT=INT</b>. Just wrong. No math behind such kind of division.<br />
I have just faced this issue (just totally forgot about INT/INT=INT) trying to calculate an angle between 2 points on the Bitmap. It is simple:<br />
<pre class="csharpcode">Point p1 = GetIt();
Point p2 = GetIt();
var radians = Math.Atan( (p1.X-p2.X) / (p2.Y-p1.Y) ); // Atan( INT/INT)!!</pre>
As we can see the error is unavoidable. We will end up with wrong result.<br />
So you should remember once and forever: <b>Be explicit about type when using division</b>.<br />
And the code snippets should look like this to work correctly:<br />
<pre class="csharpcode">Console.WriteLine(5.0/2.0 &gt; 2.0); <span class="rem">// This  correctly becomes "True"</span>

<span class="rem">// casting of one division argument is enough, but better be explicit</span>
Math.Atan( (<span class="kwrd">double</span>)(p1.X-p2.X) / (<span class="kwrd">double</span>)( p2.Y-p1.Y) ); 

<span class="rem">// or if casting bothers you:</span>
Math.Atan( (0.0 + p1.X-p2.X) / (0.0 + p2.Y-p1.Y) );</pre>
<br />
Additional note is that ReSharper greatly warns you saying “Possible loss of fraction”. I love it more and more every day.</div>
<h2>Comments</h2>
<div class='comments'>
<div class='comment'>
<div class='author'>Alexander</div>
<div class='content'>
Well - to me the problem here is just in overloading the operators. <br /><br />Going backwards - Pascal (hehe) has 2 different ops for wholenum division and normal one - <br /><br />div <br />/<br /><br />And there were no problems at all about the division. To me - also - this decision - to use same symbol for wholenum and normal division - was just a mistake. I have myself ran into some problems with this.</div>
</div>
<div class='comment'>
<div class='author'>Anonymous</div>
<div class='content'>
It&#39;s wrong to bring Significant Figures into this. SigFigs says 5/2 = 2, but 5/2.0 is also 2. SigFigs is probably only taught in engineering, chemistry and physics schools - it&#39;s not usually a topic in computer science. At any rate, it&#39;s not the right reasoning here.<br /><br />Rather, I believe the real reason to simply in the hardware - Integer division is simpler and faster. Floating points are a different beast, and are slower for performance and use more energy due to the more complex circuitry involved. Difference in a single operation is microscopic at the desktop app level, but do a lot of these computations, or if you&#39;re writing for hardware, it makes a significant difference. <br /><br />This is part of the reason most  mobile device platforms had no support for floating point computations (if anything, they were fixed point computations emulated using integers).<br /><br />In C#, double and float are floating points, and decimal is a fixed point. For historical reasons, VB differentiates the two by providing the / operator as floating point division, and the \ operator as integer division.<br /><br />For better or for worse, this is how they&#39;ve implemented it. Ours not to reason why; ours but to do or&#8230; yeah :-/</div>
</div>
<div class='comment'>
<div class='author'>Dmytrii Nagirniak</div>
<div class='content'>
In math from school 5/2 is equal to 2.5. This is not possible when the result of the division operation is always INT. So give me the math that always defines the result of the division operation equal to Integer?<br /><br />In addition to that, tell me why most of other programming languages have Integer as a result of division operation?</div>
</div>
<div class='comment'>
<div class='author'>Anonymous</div>
<div class='content'>
I have no idea why you think IRL int/int=real, that&#39;s definitely not correct maths. Least significant number decides what the significance of the outcome will be. int = no decimals, so no decimals in the result. Back to school you go!</div>
</div>
</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/it-holidays-official-and-not/">IT Holidays (Official and Not)</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-10-02T10:57:00+10:00" pubdate data-updated="true">Oct 2<span>nd</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
It turns out there are a lot IT holidays out there. So we can make celebration pretty often :)<br />
Here is the list:<br />
<ul>
<li><b>International Day without Internet (last Sunday of January)</b>. It is intended to have one day with no computer, internet. Just be offline and go and visit your relatives, friends; go to park etc.</li>
<li><b>Day of secure Internet (1st Tuesday of February)</b>. The aim is to inform users about security issues in world wide web.</li>
<li><b>Computer geek day (February 14)</b>. The day of people in love with computers… If seriously, it is the day when (14 February, 1946) the first electronic digital computer (ENIAC) was launched which actually worked, and even performed calculations (ballistic tables of the U.S. Army). And BTW this is <b>my birthday</b>… What a coincident :)</li>
<li><b>Overclocker day (28 February or 29th on the overclocked year)</b>. This seems to be born in Russia in 2004.&nbsp; Not much to add to this. Every gamer knows what overclkocking is.</li>
<li><b>IT-Professional day (28 February)</b>. Invention of network cable. Just another reason to have couple of drinks with colleagues.</li>
<li><b>Day of freedom of speech in Internet (12 March)</b>. Initiated by <a href="http://unesco.org/" target="_blank">UNESCO</a> as part of “Reporters without Borders” program on 12 March 2008. The aim is to support Internet descendants who might be in prison. Organisers ask to to give your NO to the censure in the Internet.</li>
<li><b>Shutdown Day (24 March)</b>. For the first time this holiday was celebrated March 24, 2007. That day a call came to shut down as many computers as possible arround the world. The purpose of is to find out how many people can survive a day without a computer. The authors of this idea are programmers who live in Montreal (Canada), Denis Bystrov (born in Belarus) and Ashutosh Rajekar (born in India).</li>
<li><b>RuNet Birthday (7 April)</b>. On the 7th of April 1994&nbsp; The Internet Corporation for Assigned Names and Numbers (ICANN) had registered the domain <b>.ru</b> for Russia.</li>
<li><b>Cryptographic service day (5 May)</b>. The service was organised in Russia in 1921 to empower security of communications within Russia and outside of it.</li>
<li><b>International Day of Information Society (IT-Day, 17 May)</b>. UN recognises it as a day of all IT geeks (software devs, admins, Internet providers, web-designers etc) since 2006. The same day, 17 May, but 1865 International Telegraph Union was established in France.</li>
<li><b>Sys Admin day (last Friday of July)</b>. This idea came to mind of sys-admin from Chicago (Ted Kekatos). First celebrated on 28 July 2000. BTW, Pope of Rome, the same year, officially called St. Issidor (clarification?) the governor of all computer and internet users.</li>
<li><b>Tester’s day (9 September)</b>. This day 1945 in Harvard university a butterfly was found in Mark II Aiken Relay Calculator during the testing. It got the start for this day.</li>
<li><b>Developer’s day (256th days of a year)</b>. Professional day of a developer celebrated on the symbolic, 256th day of the year. The idea came from Russian developer Valentin Balt. This day became official in Russia only since 2009, but was celebrated since 2002.</li>
<li><b>Smiley birthday (19 September).</b> On 19 September 1982 professor from Scott E. Fahlman from Carnegie Mellon University first time suggested to use three symbols <b>:-)</b> to be interpreted as a smiling face. Nowadays these symbols are used everywhere.</li>
<li><b>International Day Of Internet (30 September)</b>. This holiday was offered to become official several times at different times. However, none of the suggested dates did not become a tradition. As for Russia, at the informal level, the Day of the Internet is September 30. Such an initiative came from the Moscow company, &#8220;IT Infoart Stars&#8221;.</li>
<li><b>International Day of Information (26 November)</b>. Initiated my International Academy of Infromatisation. Any person dealing with information in any kind can celebrate this day.</li>
<li><b>International day of information protection (30 November)</b>. This holiday is celebrated from November 30, 1988 at the initiative of the American Association of computer equipment. The purpose is to remind everyone of the need to protect computer information, drawing attention of producers and users of hardware and software security problems. It was a in 1988, was recorded first mass epidemic of computer virus. It was a worm, named in honor of its author Morris.</li>
<li><b>Birthday of computer science in Russia (4 December)</b>. In August 1948, reporter, member of AN USSR Isaac Brook together with engineer Bashir Rameevym presented the project of automatic computing machines. A Dec. 4, 1948 State Committee of the Council of Ministers introduced the advanced technology and registered this invention under the number 10475, entitled &#8220;Digital electronic calculating machine”. </li>
</ul>
Translated and shortened from <a href="http://subscribe.ru/digest/inet/review/n133796305.html" target="_blank">here</a>.</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/imagegetbounds-always-returns-value-in/">Image.GetBounds Always Returns Value in Pixels</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-10-01T14:20:00+10:00" pubdate data-updated="true">Oct 1<span>st</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
Ok. Looking at the method <a href="http://msdn.microsoft.com/en-us/library/system.drawing.image.getbounds.aspx">Image.GetBounds</a> I see:<br />
Return value:<br />
<blockquote>
The <a href="http://msdn.microsoft.com/en-us/library/system.drawing.rectanglef.aspx">RectangleF</a> that represents the bounds of the image, <b>in the specified unit</b>.</blockquote>
So far so good. But please notice the signature of the method:<br />
<pre class="csharpcode"><span class="kwrd">public</span> RectangleF GetBounds(<span class="kwrd">ref</span> GraphicsUnit pageUnit)</pre>
<style type="text/css">
.csharpcode, .csharpcode pre
{
 font-size: small;
 color: black;
 font-family: consolas, &#8220;Courier New&#8221;, courier, monospace;
 background-color: #ffffff;
 /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
 background-color: #f4f4f4;
 width: 100%;
 margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<br />
We need to pass the unit of measurement BY REFERENCE. I had no idea why.<br />
It turns out this method <b>ALWAYS RETURNS THE VALUE IN PIXELS</b>. Additionally the unit parameter is always set to Pixel instead.<br />
And there is no ANY information about it on the documentation at all. Great. I wasted 2 hours for this.<br />
Again have to <a href="http://dnagir.blogspot.com/2009/09/aspnet-mvc-most-annoying-issues.html">patch, fix, extend</a>.</div>
<h2>Comments</h2>
<div class='comments'>
<div class='comment'>
<div class='author'>Dmytrii Nagirniak</div>
<div class='content'>
You are welcome. Glad the post has helped you.</div>
</div>
<div class='comment'>
<div class='author'>Anonymous</div>
<div class='content'>
Very unfortunate. But I appreciate the light rant. You&#39;ve saved me from wasting 2 hours trying to fix the exact same thing- which would have been the end of my sanity.  I have been working on my project for 48+ hours.  Thank you! :)</div>
</div>
</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/aspnet-mvc-most-annoying-issues/">ASP.NET MVC Most Annoying Issues</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-09-29T13:16:00+10:00" pubdate data-updated="true">Sep 29<span>th</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
<ul>
<li>No support for SSL in routing&nbsp; (no URL generation configured in a single place). One big hack is <a href="http://dnagir.blogspot.com/2008/08/fixing-https-support-in-aspnet-mvc.html">here</a>.</li>
<li>No support for (non)SSL redirect using RedirectToRoute (so it is not possible to redirect to (non)SSL page from controller action, except generating absolute link manually). </li>
<li>HttpExeption is handled as any other one except if its Code is 404. Inconsistent. But is “as designed” in ASP.NET generally (FTW again). </li>
<li>It reuses interface of the HttpContext class just acting as a proxy (HttpContextBase). Thus it inherits all the issues it has. It had to be different interface that abstracts from HttpContext (in particular the ApplicationPath’s trailing slash issue). </li>
<li>No support for Fragment part of URL in routing. </li>
<li>Weird ValueProvider – sometimes its value is array, sometimes string. The <a href="http://dnagir.blogspot.com/2009/01/aspnet-mvc-request-valueproviderresult.html">behaviour is consistent</a>, but not naturally understandable. Have to wrap all that stuff with my own utility to unwrap that. </li>
<li><a href="http://dnagir.blogspot.com/2009/04/nullreferenceexception-accessing-aspnet.html">NullReferenceException occurs</a> accessing routes if not properly used. </li>
<li>Annoying RenderPartial with model. <a href="http://dnagir.blogspot.com/2009/05/aspnet-mvc-renderpartial-with-null.html">Has to create a new ViewDataDictionary</a>. </li>
<li><a href="http://dnagir.blogspot.com/2009/09/aspnet-mvc-empty-values-and-string.html">Empty values are used instead of NULLs</a>. By default if user leaves a field blank (non-mandatory) empty string is bound to the property. It will be fixed in MVC2. </li>
<li>In <b>reality</b>, rarely you can use the typed C# 3.5 syntax for routing MvcContrib fixes that and I <a href="http://dnagir.blogspot.com/2008/05/annoying-untyped-redirects-in-aspnet.html">did</a> it. </li>
<li>The default data binding <a href="http://dnagir.blogspot.com/2008/03/mvc-concerns-databinding-and-security.html">is NOT secure</a> and it is often encouraged. This also applies to Castle MonoRail. To protect it we need to specify white-list (which leads to another problem) or use ViewModel/DTO (which I do) and thus write more code. </li>
<li>The white-list of databinding properties is array of STRINGS. No type sefety. I write my wrapper to convert Expression&lt;Func&gt; to string. Fixing and patching again. </li>
</ul>
And this is the list I only remember now…<br />
Generally the idea behind ASP.NET MVC is great. Even <a href="http://dnagir.blogspot.com/2008/03/mvc-controller-action-return-values.html">one of my ideas had been implemented</a> in it.<br />
But the delivered implementation has to be patched and wrapped with your own utils. Only after that it can be used consistently.<br />
I am using ASP.NET MVC for about half a year or so and I still do prefer it instead of WebForms. Probably I just had to choose <a href="http://www.castleproject.org/MonoRail/" target="_blank">Castle MonoRail</a>. I have never used it, only looked around, read blogs and looked into code samples, but it seems to be a bit more mature. It probably has less “features” (one is worth noting - routing), but I believe it at least performs consistently everywhere.<br />
I am just so tired of patching, wrapping, extending, fixing all the Microsoft things…<br />
I probably just need to go to holidays for a while to cool down a bit.<br />
I should also mention the most positive tools I used with ASP.NET MVC:<br />
<ul>
<li><a href="http://www.codeplex.com/MVCContrib/Wiki/View.aspx?title=Grid" target="_blank">MvcContrib’s grid</a>. </li>
<li><a href="http://code.google.com/p/nhaml/" target="_blank">NHAML</a> view engine – this is a real relief. I don&#8217;t even need the previous “tool” with it. Such a <i>times and mood</i> saver. It sill has some things I am missing heavily:       <br />
<ul>
<li><a href="http://code.google.com/p/nhaml/issues/detail?id=56" target="_blank">parameterised partial</a> views; </li>
<li><a href="http://code.google.com/p/nhaml/issues/detail?id=5" target="_blank">multiple content placeholders</a>; </li>
<li>intellisence support; </li>
</ul>
</li>
</ul>
<b>I do encourage you to contribute to NHAMl in any possible way. </b><a href="http://dnagir.blogspot.com/2009/07/nhaml-impressions.html"><b>That is a real thing</b></a><b>.</b><br />
<hr />
<b>Ohh. And I have a great idea. Let’s rewrite all the tools we find <i>design </i>issues in? Huh?</b><br />
Are you brave enough to tell that?<br />
…hmm… <i>I</i> am probably <i>not</i>.     <br />Though I want to.</div>
<h2>Comments</h2>
<div class='comments'>
<div class='comment'>
<div class='author'>ds r4</div>
<div class='content'>
that SSL certification problem is such annoying. It gets problemetic even if you change the browser.</div>
</div>
<div class='comment'>
<div class='author'>Dmytrii Nagirniak</div>
<div class='content'>
Upps. Sorry. I really thought fragment IS sent to server as part of the URL.<br /><br />Well, then there is really no way we can get the fragment on the server. But it should still be possible to generate the fragment so it can be used on the client.</div>
</div>
<div class='comment'>
<div class='author'>Haacked</div>
<div class='content'>
That&#39;s not the case at all. Try the following experiment. Open up Fiddler2. In your browser, type in any URL with a URL fragment. For example, I chose http://haacked.com/default.aspx#foo<br /><br />Fiddler shows the following request being made:<br /><br />  GET /default.aspx HTTP/1.1<br /><br />Notice that #foo is not included as part of the request.<br /><br />Check out the Wikipedia entry on &quot;Fragment identifier&quot; which states: http://en.wikipedia.org/wiki/Fragment_identifier<br /><br />&quot;The fragment identifier functions differently than the rest of the URI: namely, its processing is exclusively client-side with no participation from the server.&quot;</div>
</div>
<div class='comment'>
<div class='author'>Dmytrii Nagirniak</div>
<div class='content'>
Hello Phil,<br /><br />For the Fragment, it is part of the URL and is sent to the server and thus can be used. Not too sure what you mean.<br /><br />Ideally the the fragment part shuold be defined as part of the route:<br />&quot;{controller}/{id}/{action}#{fragment}&quot;<br /><br />So the &#39;#&#39; should be taken into account when it is absent when matching/generating routes. So that all of the follwoing URL will match the route:<br />Product/123/List<br />Product/123/List#actions<br />Product/123/List?page=5#actions</div>
</div>
<div class='comment'>
<div class='author'>Haacked</div>
<div class='content'>
Thanks for the feedback. Regarding the Fragment part in URL Routing, how could we support that? The URL fragment is *not sent to the server*. <br /><br />The fragment is interpreted by the browser and is not sent over HTTP to the server.</div>
</div>
</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/embarrassment-with-net-uri/">Embarrassment With .NET URI</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-09-29T10:40:00+10:00" pubdate data-updated="true">Sep 29<span>th</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
I need to work with the <a href="http://en.wikipedia.org/wiki/Uniform_Resource_Identifier" target="_blank">URI</a> in .NET. What I need to do is:<br />
<ul>
<li>Parse URI from a poor string to be able to extracts its parts      <br />
<ul>
<li>name/value pairs of a <i>query</i>; </li>
<li>scheme </li>
<li>host </li>
<li>path </li>
</ul>
</li>
<li>Generate URI based on      <br />
<ul>
<li>name/value pairs of a <i>query</i>; </li>
<li>scheme </li>
<li>host </li>
<li>scheme + host parts</li>
<li>path </li>
</ul>
</li>
<li>Modify URI the same way      <br />
<ul>
<li>name/value pairs of a <i>query</i>; </li>
<li>scheme </li>
<li>host </li>
<li>scheme + host parts</li>
<li>path </li>
</ul>
</li>
</ul>
There are basically 2 types in .NET that can help with it: <a href="http://msdn.microsoft.com/en-us/library/system.uribuilder.aspx" target="_blank">Uri</a> and <a href="http://msdn.microsoft.com/en-us/library/system.uribuilder.aspx" target="_blank">UriBuilder</a>. Neither of them allows me to do all the things I mentioned <b><i>properly</i></b>.<br />
Uri class does not give name/value pairs. So I have set of extensions to do that. Not a big deal, but it is not there, in .NET.<br />
UriBuilder has a <a href="http://connect.microsoft.com/VisualStudio/feedback/ViewFeedback.aspx?FeedbackID=96242" target="_blank">ridiculous bug</a>; and guess what. The status is Closed as by Design. WTF! Just insane!<br />
What a shame on .NET. How long should I concatenate the strings and use my own utils when things are a bit more complicated that just absolutely simple? Sick and tired of that.<br />
I definitely need to get my hands on some RFC and <a href="http://labs.apache.org/webarch/uri/rfc/rfc3986.html#collected-abnf" target="_blank">implement it properly</a>.</div>
<h2>Comments</h2>
<div class='comments'>
<div class='comment'>
<div class='author'>Anonymous</div>
<div class='content'>
Have to agree that .NET&#39;s Uri class is dreadful, especially when it comes to handling query strings.</div>
</div>
</div>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/5/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/3/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Dmytrii Nagirniak</h1>
  <img src="/about/me.jpg" title="Dmytrii Nagirniak photo" >
  <ul>
    <li>
      <a href="http://twitter.com/dnagir">Twitter</a>
    </li>
    <li>
      <a href="http://github.com/dnagir">Github</a>
    </li>
    <li>
      <a href="http://au.linkedin.com/in/dmitriynagirnyak">LinkedIn</a>
    </li>
    <li>
      <a href="mailto:d@ApproachE.com?subject=Just saying hi">d@ApproachE.com</a>
    </li>
  </ul>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/increase-your-productivity-with-vim-and-terminal/">Increase your productivity in Vim and Terminal</a>
      </li>
    
      <li class="post">
        <a href="/blog/how-to-care-for-introverts/">How to care for Introverts</a>
      </li>
    
      <li class="post">
        <a href="/blog/migrating-from-blogger-to-octopress/">Migrating from Blogger to Octopress</a>
      </li>
    
      <li class="post">
        <a href="/blog/knockoutjs-validations-video/">KnockoutJS Validations Screencast</a>
      </li>
    
      <li class="post">
        <a href="/blog/issues-switching-to-jruby-from-mri-19/">Issues switching to JRuby from MRI 1.9</a>
      </li>
    
  </ul>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("dnagir", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/dnagir" class="twitter-follow-button" data-show-count="false">Follow @dnagir</a>
  
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2012 - Dmytrii Nagirniak -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'approache';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>





  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
